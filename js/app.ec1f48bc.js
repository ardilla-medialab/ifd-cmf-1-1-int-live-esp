(function(t){function e(e){for(var n,a,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)a=o[d],s[a]&&h.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},s={app:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/ifd-cmf-1-1-int-live-esp/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"g-container",attrs:{id:"ifd-cmf-1-1-int"}},[i("Visualization",{attrs:{"container-width":this.calculateContainerWidth(),language:"esp"}})],1)},r=[],a=i("5698"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vis"},[i("div",{staticClass:"vis-header"},[i("h3",[t._v(t._s(t.title))]),i("div",{staticClass:"slides is-centered"}),i("p",{domProps:{innerHTML:t._s(t.slideText)}})]),i("div",{staticClass:"vis-legend"}),i("div",{staticClass:"vis-content"},[i("svg")]),i("div",{staticClass:"vis-footer"},[i("p",[t._v("\n            "+t._s(t.source)+"\n        ")])])])},l=[],c=i("795b"),u=i.n(c),d=(i("96cf"),i("3b8d")),h=(i("c5f6"),{name:"Visualization",props:{containerWidth:Number,language:String},data:function(){return{languageSelected:this.language.toLowerCase(),title:"esp"===this.language.toLowerCase()?"El ecosistema Fintech de América Latina y el Caribe":"Latin America and the Caribbean Fintech Ecosystem",source:"esp"===this.language.toLowerCase()?"Datos: BID y Finnovista (2018)":"Data: IDB & Finnovista (2018)",height:this.containerWidth>600?1*this.containerWidth:1.6*this.containerWidth,width:this.containerWidth,isMobile:this.containerWidth<600,slideText:"",currentSlide:0,disableButtons:!1,fintechs:[],slides:[],svg:null,tooltip:null,simulation:null,center:{x:this.containerWidth/2,y:.7*this.containerWidth/2},forceStrength:.1,fillColor1:"#00526E",fillColor2:a["h"]().domain([!0,!1]).range(["#00526E","#e3120b"]),fillColor3:a["h"]().domain([!0,!1]).range(["#00526E","#e3120b"]),fillColor4:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"],fillColor5:["#52ad92","#91b07f","#d0b36c","#eca05d","#e57754","#de4d4b"].reverse(),bubbles:null,gLabels:null,labelsSlide4ESP:["Banca digital (26)","Financiamiento colectivo (89)","Gestión de finanzas empresariales (181)","Gestión de finanzas personales (90)","Gestión de patrimonio (55)","Negociación de activos financieros y mercados de capitales (61)","Pagos y remesas (285)","Préstamos (208)","Puntaje crediticio, identidad y fraude (47)","Seguros (53)","Tecnología empresarial para instituciones financieras (71)"],labelsSlide4ENG:["Digital Banks (26)","Crowdfunding (89)","Enterprise Financial Management (181)","Personal Financial Management (90)","Wealth Management (55)","Trading & Capital Markets (61)","Payments & Remittances (285)","Lending (208)","Scoring, Identity & Fraud (47)","Insurance (53)","Enterprise Technologies for Financial Institutions (71)"],labelsSlide5ESP:["Concepto/Idea","Demo/Prototipo","Versión beta","Lanzado","Listo para escalar","Crecimiento y expansión"],labelsSlide5ENG:["Concept/Idea","Demo/Prototype","Beta version","Launched","Ready to scale","Growth & expansion"]}},mounted:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Component mounted: Visualization"),console.log("Vis attr: width ".concat(this.containerWidth,"px")),t.next=4,this.loadData();case 4:this.loadUI(),this.initSimulation();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),updated:function(){console.log("Visualization updated")},methods:{loadData:function(){var t=this;return new u.a(function(e){t.loadFintech().then(function(i){t.fintechs=i,t.loadSlides().then(function(i){t.slides=i,e()})})})},loadFintech:function(){var t=this;return new u.a(function(e){var i=t;a["a"]("/ifd-cmf-1-1-int-live-esp/data/fintech-list.csv",function(t){return{id:+t.ID,active:"YES"===t.ACTIVE,year:+t.YEAR,country:"eng"===i.languageSelected?t.COUNTRY_ENG:t.COUNTRY_ESP,countryGroup:+t.COUNTRY,sector:"eng"===i.languageSelected?t.SECTOR_ENG:t.SECTOR_ESP,sectorGroup:+t.SECTOR,status:"eng"===i.languageSelected?t.STATUS_ENG:t.STATUS_ESP,statusGroup:+t.STATUS,x:Math.random()*i.width,y:Math.random()*i.height,radius:i.width<600?.3*+t.STATUS+1:.5*+t.STATUS+1}}).then(function(t){console.log("Data Loaded: Fintech"),e(t)})})},loadSlides:function(){var t=this;return new u.a(function(e){var i=t;a["g"]("/ifd-cmf-1-1-int-live-esp/"+"data/slide-texts-".concat(i.languageSelected,".json")).then(function(t){e(t)})})},loadUI:function(){var t=this;a["i"](".slides").selectAll("button").data(this.slides).enter().append("button").attr("class",function(t){return"button is-small slide-button-".concat(t.index)}).html(function(t){return t.index}).on("click",function(e){switch(e.index){case 1:1===t.currentSlide||t.disableButtons||t.loadSlide1();break;case 2:2===t.currentSlide||t.disableButtons||t.loadSlide2();break;case 3:3===t.currentSlide||t.disableButtons||t.loadSlide3();break;case 4:4===t.currentSlide||t.disableButtons||t.loadSlide4();break;case 5:5===t.currentSlide||t.disableButtons||t.loadSlide5();break;case 6:6!==t.currentSlide&&t.disableButtons;break;default:break}}),this.tooltip=a["i"]("body").append("div").attr("class","aml-tooltip").text("orales"),a["i"](".vis-content").append("img").attr("src",function(){return t.isMobile?"images/cover-mobile-".concat(t.languageSelected,".svg"):"images/cover-".concat(t.languageSelected,".svg")}).attr("class","loading-image")},initSimulation:function(){var t=this;this.svg=a["i"]("div.vis-content >svg").attr("width",this.width).attr("height",this.height),this.svg.style("display","none"),a["i"](".slides").style("display","none"),a["i"]("img.loading-image").on("click",function(){t.svg.style("display","block"),a["i"](".slides").style("display","block"),a["i"]("img.loading-image").remove(),t.loadSlide1()}),this.bubbles=this.svg.selectAll(".bubble").data(this.fintechs,function(t){return t.id});var e=this.bubbles.enter().append("circle").classed("bubble",!0).attr("r",function(t){return t.radius}).style("opacity",0);this.bubbles=this.bubbles.merge(e),this.simulation=a["d"]().velocityDecay(.4).force("collision",a["b"]().radius(function(t){return t.radius})).on("tick",this.ticked).stop().nodes(this.fintechs),this.gLabels=this.svg.append("g").attr("class","g-labels")},charge:function(t){return-this.forceStrength*Math.pow(t.radius+1,2)},ticked:function(){this.bubbles.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})},loadSlide1:function(){console.log("Loading slide 1");var t=this;this.currentSlide=1,this.slideText=this.slides[this.currentSlide-1].text,this.bubbles.attr("r",function(e){return e.radius=t.isMobile?.8*+e.statusGroup+1:1.1*+e.statusGroup+1,e.radius}).style("fill",function(e){return t.fillColor1}).classed("dead",!1).classed("hidden",function(t){return 2018===t.year}).transition().delay(function(t,e){return e}).duration(500).style("opacity",.8),this.gLabels.selectAll("*").remove(),this.simulation.velocityDecay(.3).force("collision",a["b"]().radius(function(t){return t.radius}).iterations(2)).force("charge",a["c"]().strength(this.chargeSlide1)).force("x",a["e"]().strength(this.forceStrength).x(function(e){return t.slide1Centers(e).x})).force("y",a["f"]().strength(this.forceStrength).y(function(e){return t.slide1Centers(e).y})).alpha(1).alphaMin(.5).restart(),a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)},chargeSlide1:function(t){return this.isMobile?-this.forceStrength*Math.pow(t.radius+.5,2):-this.forceStrength*Math.pow(t.radius+2,2)},slide1Centers:function(t){var e={x:0,y:this.height/5*2};return 2017===t.year?e.x=this.width/2:e.x=3*this.width,e},loadSlide2:function(){console.log("Loading slide 2");var t=this;this.currentSlide=2,this.slideText=this.slides[this.currentSlide-1].text,this.bubbles.attr("r",function(e){return e.radius=t.isMobile?.5*+e.statusGroup+1:.8*+e.statusGroup+1,e.radius}).style("fill",function(e){return 2018===e.year?"#FA9500":t.fillColor2(e.active)}).classed("dead",function(t){return!t.active}).classed("hidden",function(t){return 2018===t.year}),this.gLabels.selectAll("*").remove(),this.simulation.velocityDecay(.3).force("collision",a["b"]().radius(function(t){return t.radius}).iterations(2)).force("charge",a["c"]().strength(this.chargeSlide2)).force("x",a["e"]().strength(this.forceStrength).x(function(e){return t.slide2Centers(e).x})).force("y",a["f"]().strength(this.forceStrength).y(function(e){return t.slide2Centers(e).y})).alpha(1).alphaMin(.5).restart(),a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)},chargeSlide2:function(t){return this.isMobile?-this.forceStrength*Math.pow(t.radius+1,2):-this.forceStrength*Math.pow(t.radius+2,2)},slide2Centers:function(t){var e={x:0,y:this.height/5*2};return 2017===t.year&&t.active?e.x=this.width/3*2:2017!==t.year||t.active?e.x=2*this.width:e.x=this.width/3,e},loadSlide3:function(){console.log("Loading slide 3");var t=this;this.currentSlide=3,this.slideText=this.slides[this.currentSlide-1].text,this.bubbles.attr("r",function(e){return e.radius=t.isMobile?.5*+e.statusGroup+1:.8*+e.statusGroup+1,e.radius}).style("fill",function(e){return 2018===e.year?"#FA9500":t.fillColor3(e.active)}).classed("dead",function(t){return!t.active}).classed("hidden",!1).classed("new",function(t){return 2018===t.year}),this.gLabels.selectAll("*").remove(),t.disableButtons=!0,this.simulation.velocityDecay(.3).force("collision",a["b"]().radius(function(t){return t.radius}).iterations(2)).force("charge",a["c"]().strength(this.chargeSlide3)).force("x",a["e"]().strength(this.forceStrength).x(function(e){return t.slide3CentersB(e).x})).force("y",a["f"]().strength(this.forceStrength).y(function(e){return t.slide3CentersB(e).y})).alpha(1).alphaMin(.5).restart(),setTimeout(function(){t.simulation.force("x",a["e"]().strength(t.forceStrength).x(function(e){return t.slide3Centers(e).x})).force("y",a["f"]().strength(t.forceStrength).y(function(e){return t.slide3Centers(e).y})).alpha(1).alphaMin(.5).restart(),t.disableButtons=!1},1500),a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)},chargeSlide3:function(t){return this.isMobile?-this.forceStrength*Math.pow(t.radius+1,2):-this.forceStrength*Math.pow(t.radius+2,2)},slide3Centers:function(t){var e={x:0,y:this.height/5*2};return 2017===t.year&&t.active?e.x=this.width/2:2017!==t.year||t.active?e.x=this.width/2:e.x=-this.width,e},slide3CentersB:function(t){var e={x:0,y:this.height/5*2};return 2017===t.year&&t.active?e.x=this.width/3:2017!==t.year||t.active?e.x=this.width/3*2:e.x=-this.width,e},loadSlide4:function(){console.log("Loading slide 4");var t=this;this.currentSlide=4,this.slideText=this.slides[this.currentSlide-1].text,this.bubbles.attr("r",function(e){return e.radius=t.isMobile?.3*+e.statusGroup+1:.6*+e.statusGroup+1,e.radius}).style("fill",function(e){return e.active?t.fillColor4[e.sectorGroup-1]:"#fff"}),this.gLabels.selectAll("*").remove(),this.gLabels.selectAll("text").data("esp"===this.language?this.labelsSlide4ESP:this.labelsSlide4ENG).enter().append("text").style("opacity",0).style("fill",function(e,i){return t.fillColor4[i]}).attr("class","sector").attr("x",function(e){return this.isMobile?.05*t.width:.03*t.width}).attr("y",function(e,i){return t.isMobile?(i+1)%12*t.height/12-15:(i+1)%12*t.height/12-20}).html(function(t){return t}).transition().delay(function(t,e){return 2e3+100*e}).duration(500).style("opacity",1),this.simulation.velocityDecay(.3).force("collision",a["b"]().radius(function(t){return t.radius}).iterations(2)).force("x",a["e"]().strength(this.forceStrength).x(t.width/2)).force("y",a["f"]().strength(this.forceStrength).y(t.height/2)).alpha(1).restart().force("charge",a["c"]().strength(this.chargeSlide4)).force("x",a["e"]().strength(this.forceStrength).x(function(e){return t.slide4Centers(e).x})).force("y",a["f"]().strength(this.forceStrength).y(function(e){return t.slide4Centers(e).y})).alpha(1).alphaMin(.1).restart(),a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)},chargeSlide4:function(t){return this.isMobile?-this.forceStrength*Math.pow(1,2):-this.forceStrength*Math.pow(t.radius+2,2)},slide4Centers:function(t){var e={x:0,y:this.height/2};return t.active?(this.isMobile?e.x=Math.random()*(this.width-.1*this.width)+.05*this.width:e.x=Math.random()*(this.width-.06*this.width)+.03*this.width,e.y=t.sectorGroup%12*this.height/12):e.x=-100,e},loadSlide5:function(){var t=this;console.log("Loading slide 5");var e=this;this.currentSlide=5,this.slideText=this.slides[this.currentSlide-1].text,this.bubbles.attr("r",function(t){return t.radius=e.isMobile?.3*+t.statusGroup+1:.6*+t.statusGroup+1,t.radius}).style("fill",function(t){return t.active?e.fillColor5[t.statusGroup-1]:"#ffffff"}),this.gLabels.selectAll("*").remove(),this.gLabels.append("line").attr("class","status").attr("x1",1*this.width/7).attr("y1",30).attr("x2",6*this.width/7).attr("y2",30);for(var i=function(i){t.gLabels.append("circle").attr("class","status").attr("cx",i*t.width/7).attr("cy",30).attr("r",10).style("fill",e.fillColor5[i-1]).on("mouseover",function(){return"esp"===e.language?e.tooltip.html(e.labelsSlide5ESP[i-1]):e.tooltip.html(e.labelsSlide5ENG[i-1]),e.tooltip.style("visibility","visible")}).on("mousemove",function(){return e.tooltip.style("top",event.pageY-10+"px").style("left",event.pageX+10+"px")}).on("mouseout",function(){return e.tooltip.style("visibility","hidden")})},n=1;n<7;n++)i(n);this.simulation.velocityDecay(.3).force("collision",a["b"]().radius(function(t){return t.radius}).iterations(2)).force("charge",a["c"]().strength(this.chargeSlide5)).force("x",a["e"]().strength(this.forceStrength).x(e.width/2)).force("y",a["f"]().strength(this.forceStrength).y(e.height/2)).alpha(1).restart().force("x",a["e"]().strength(this.forceStrength).x(function(t){return e.slide5Centers(t).x})).force("y",a["f"]().strength(this.forceStrength).y(function(t){return e.slide5Centers(t).y})).alpha(1).alphaMin(.5).restart(),a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)},chargeSlide5:function(t){return-this.forceStrength*Math.pow(t.radius,2)},slide5Centers:function(t){var e={x:0,y:this.height/2};return t.active?(e.x=t.statusGroup%7*this.width/7,e.y=Math.random()*(this.height-.3*this.height)+.2*this.height):e.x=-100,e},loadSlide6:function(){console.log("Loading slide 6");this.currentSlide=6,this.slideText=this.slides[this.currentSlide-1].text,a["j"](".button").classed("button-active",!1),a["i"](".slide-button-".concat(this.currentSlide)).classed("button-active",!0)}}}),f=h,g=(i("81c2"),i("2877")),p=Object(g["a"])(f,o,l,!1,null,null,null);p.options.__file="Visualization.vue";var b=p.exports,v={name:"app",components:{Visualization:b},data:function(){return{}},mounted:function(){console.log("Component mounted: App")},methods:{calculateContainerWidth:function(){var t=a["i"]("#ifd-cmf-1-1-int").node().getBoundingClientRect();return t.width}}},y=v,S=(i("5c0b"),Object(g["a"])(y,s,r,!1,null,null,null));S.options.__file="App.vue";var m=S.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(m)}}).$mount("#ifd-cmf-1-1-int")},"5c0b":function(t,e,i){"use strict";var n=i("5e27"),s=i.n(n);s.a},"5e27":function(t,e,i){},"81c2":function(t,e,i){"use strict";var n=i("962a"),s=i.n(n);s.a},"962a":function(t,e,i){}});
//# sourceMappingURL=app.ec1f48bc.js.map